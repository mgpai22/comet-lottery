
# Comet Lottery 




## Setup
- create ticket contract singleton
- comple winner selection contract with comet token id and oracle nft id
- compile proxy contract with singleton
- compile collection contract with singleton, winner selection contract sigmaProp, and ownerPk
- compile ticket sales contract with collection contract sigmaProp, proxy sigmaProp, winner selection contract sigmaProp, comet id, price in comet, and ownerPk
- Initialize ticket sales contract by sending singleton, adding 1L to R4 and R5, and by adding distribution address sigmaProp to R6
- Initialize collection contract by sending some comet and adding 1L to R4 and R5

## Deployed Examples
This shows two iterations of the raffle
- [ticket sales contract](https://testnet.ergoplatform.com/en/addresses/7AsQvWJkbHjxm6dWxVYL1vBA1gN4CeD4NaR5JT2sJMK1iFSRrfx7vbS4uSqXtVXPooLt4a1oxhDWXnpWJhYss3s3oCFeEGe9E6gK3zv8S3kPbNowYAJfUHHHtc3Ls6MfqPt2AcYVqaViNJLV7hRW93ExTmfuHoGnyhBmE2cQsU17pTwL2VEN88ajnRYTaR833rXM8YS638eBELLo2dhKS4wC1sV85sqbpgA2v4ZL1CZv2yagQ3BCGLpDAWZcR85NeGcxNFtopZ5RXZMuvXjLS47ci5hqZkU6g9D2sSBPmnqZKiU7oQn5FHzYBnecn1JvUbkndvyDDimmyxvFnVk1z22onbdG64RpB2EAH9sRLMLLBDr89vMLvTTTAqfSjydWekBLmP5HkAXd6ZWV6avahpwBdbX14szM4h1brHRn3t5ziPSPdoj3EpHgummLrRBFy5JmfEdTxhv7EF3mbHSH7LjbkWqVC4p2pNMM39FTL1br95kyhVQdH9y9QRk6UihZtVtvPycZSe9gK6VHCovdqUF7bjmJLaaCiUyWjJwyMmgoYmhUAFV9Y5nKBJ6AkQgSscBGbW8RUavmMFAJUeD6dCSaLhCfQwRdZ7KWLjqjXLUri6Ba5d6RK99VQeY75SSoM8gbKCKNwMMkSbmFTMhQtVW87GH7ByppDwkzUP4vcjJSfP8TaNY9CxubeDjYtUh4NDeaRRBsfzSjJKns7RCvKeP1U5dVBZKn1a4hvim78AVzXG9CnF7f3LumV7gGjAd2EGWPF6nLo8AaNqLKS4YMTCtXupxpdMYQebfKDfHDRnVqFfnbWhWXzE2CAF92Cx4VxewBvGmh5tXTPLKVFxfDsiYdbMGN8K8tSitVsfJA8LSaavLDVfyuegBwo7A1zYaQBzsNsToa1QP4L6GmLkF85sxjQATHVkKkQqH6w38hLRgKxBaXCWqaQdzig383vdcM1f5rKapuwvpePbNSep2qTJQ1rMDkQ7w9Gg6kuzsYwUKG72AedB6tAfLEePVrwKQ97kGiDTk6Ju6fPJ3uRTV8TRHYKeofwWQthdhcViThHJ6nm2djPmGtX2LeWHSLsN3GFHJFAzAivPa8UxohJ5WkbDKRuLQEnnL9YLng9a57moeE7RbgZPyFoEjAFmjX9i74ieEpSfDfGAxUsoAE8m4JTCcPYAsafTyf841jno1c9d2PLoPEGSCCRhN6LZ6LpxK9Rejoa3ugo8ZcD5HbZeANWCqKWbieE84VcjPSwyxVeu8YNFC6TKD2jNGi9BfpzPRMC1pgAwgsZEkv6d2ntoqVRvbvAzpUJ9UoKiV2Ww5fEA2gkZdnUuPjVMt9HhrfAZJioyC5m2yW9L7gsE4K3CzyaGh9Ph6JKCjyw1ewufW1Wi4jCxsNDF7PCSbQPBLy9iupf3jULbtnq6KN6vhXbZzSuC2njofARsNfMHK56WhUVyjiKsNRwBTGXoYqqgw5zYhDgpyHjf4guKnCLyyuzGwHTmrVnHC2HWTQ2ysDx63nDzm65e66JohgjtcDDv2KJnDbKyGFG97wWpiQwv5Baos5A8VqbX3dE5iCVcKJgfSF9iMv4TWeP5G9v9AgU67a2LdBbMM4pPJjHjYcnP3r859KCLk3xfdPUwJAz1b9svc9V5xQ1zfFgKGrfznPEDJeBrKpYBYdGZLAYHHwEZyLz67ZdLvXmUM3se82zRajfrG1tB57VtKWCxvnaKbKJoU4QF74spcgUfnDYGjuxemDCBM5LT1j6YEDsmdQ9nftzMgPU1ZSwW5eyb9aS1NZ4hLxpkjqRukHjXy3v7joDQNCcUP9hvQosWTFzZbjDRfiA3DJJ95VELohokzJSWnK1UcgTJqUoAwh5abyVQEJnfgaKnE4t2mWHphd6th1MmZNG9wURQJRAdnEDrNSdzp6dKqQ84RWS1j99QXWyS453zsr75Y29tEyvnZypPVpDjiEQKsSuZiSiaMq47Z1H1fuse31gQLUyt4AWb3NjFE2TFkw8ugEfFB6wzqREz1hT6Ux7buYsSpx24T5LgGQHq8uqVzeCVbJQed74uFiR51sEpV3VFiFmyPHFhu1HuGT2w3QiHYhU7LH7H6RhCpUs9NPqk15dJYjjxWCMq2W6FkEq2m2hyqnakdgesDW6gZiUQpsKtgbzFHMRUuvXYQcKbPazXnVQdQsFUS7sZCgLjcKZSZBfbkRAiW63wkMqhoWkN3R9ttjWhqR2qBMB3Xc3f58MA3aYNcegAwLPSrP9MtiB1sC9aEXxQYXSH8YiaVScCQqLvW3oJRwYHzJCTHAdVufDd5K6kVm33KEa771BWxatxGBSVstXmUAj9DfRtwtRtNz7U1oPLgAToEpGmszNtXijfXuoAKQ96hNQzTPa3tSBXDFG6idpdSGKu2Ay9irE6iePpAwc1iMQNaC1T5ZK5VkGmkLjhnAFQJQPQ5b6edmqzGUEQLYJ4)
- [collection contract]("https://testnet.ergoplatform.com/en/addresses/bauvffPwVDh6U5AsiswubPP9vdv7oWe2J2wdexW2k28svLM4mySvm7B18XAp81hoEU6L8cPxiRqDdUsCUprGZ6yBQeTDrRi5KQgToYpXuAvGuyRjuepdwseeeVzM6c5KyDLxGPrdQ9ScvHdYXEHhXzayHV46REhAoohzDC1hy48sC6asVCf6Vaw7MbtByyJg2aaTYFjCRLn6JhYNRWx3tuMn7P1r9vnPvZak3pG7amCzqXPobPe1KSguTomjtxMZ5nn78QDaLbPBM897Ls3dAEuRRSToiBWFDYkVPDU1cLgRhjYnWmeBZuNfYbp5kM9RQNHpsDP6tG93j736rkYbjTTjiEB9pMjLoiz4fok8yWtaL7y5yTFjcFVDpvFW1opTY1z23wJoZFqjeuDqMb9K1WSu6z5fSUZzMPp1ZBiBjwDfiV59mDNYNLTXVKcUtE8eJUjDHx1mRKmQHciVemTxK3eFiZcJwZukoL5TindvLxZquazcUMLfV9XJURKfR11cSCbTAM7Bziyx6LvTcXQSAmDVUbGvwiqP1QSPSgPgLu5zcFc2srq9p8kxwvk8uji3XGRP969E7Fk9qWuvo27xtu5XjzTkprXFE7zWSFA3cF6jH8zDGyyaX4xft2BskiST7iKEgb1cfNWtnkjg2kRcbeLiEtzWRFgHVAk22C7ETrwHE1rYted41gVYXkLW6Jdj6iSTEcuw9MniiDMhUQC86BSjWKTydnihEp33cEgijuMx5mWAgRC8Ex1gL3GwkDXinMBpL8FSVT166fHTbxEzKWn41zZrFmM7dUHAhCZ2m2Kd1CffzDhsaTCC5CYxxvHti8h4eHsa7bn3Sg7ixatk78zCdKkr1iLzT1oWLZgtvZdx1Fbq1MPWN5tNUQAupxGmRJCQHaZJSiAJs4Cg1GGhKz7CEJcF6RPxjQLXZgd1DyLDj3vUYpZ4QEn3vYAvC4jB2aZxiRE4KYxcPYY6BXzoptboyTGpDN8hrUKhyWwDbDBmwXnGN79piFgcwqTnx")
- [winner selection contract]("https://testnet.ergoplatform.com/en/addresses/Sufvai4JNJHFdtrQHQegZ2PMcb623JTuyt4dMtqdy6p1erUppiMu34x16x9vAj7WLcXuY4FUWUKxA9DyJxK6PN8tyiVrpvT1aERyod5TfYS3nko6A1gKHgwUKAD2JMznFYYUeoTpFghB5rpqmBqmqwAKD4HbvVKzKZQcDHCNDxupzhYMzmbbQpuSfrtnTiehEnvMXUSpWhTaW55FPjGrMzbo9w9HDsGb1R9NMHMPGyut19QSU31y1NgBM2FK3oXMMLtVNyZ9QomFaLVHQULv22P4cJZL3KBzDm6w1EZh7yDmQFVN3smeoJgYXNoxyZgDXBy3U4CDdkpwxHgGpbMRQo6NS7aRSzA5vs8rWgYWALX9RCWWKZ4ga8GsaPZpCSq4y6Raptq81CRVwFMq8UC43CkpGWFhhUovw6TwseLi4KyDLhi7z8c1L1E41e77WVxgyXvM2tarLoaVRxsgnDtBDGQfAr7A6PPjbyVB4Nq7NCVckBL2GCswLGyoV15anzJ2BLdjG5swYzQS89fFncmS8UxyefDD8QDxteQuRf57vWUQSKvCHsdKZyB2LFaaWxuMt3m6omMcrsyz4gDmkQi7YhC9rRFpZH5MtGwkaxzoj7Uh1RnkrPF36rnekwJ9GCHMCX8r7tBzVgNQ6YMuhn8y9y4KUx")
- [proxy contract]("https://testnet.ergoplatform.com/en/addresses/DmM3tKQ9QuVjniJ5PkEzzemBAscjmeFcLPJUGjkTLZqZiURk4VNyxBmJwsHvzDVcY7hsQAAXLLWDwXrzK6dpZoqKsFqGqM5zEkEUYtizpTaf2eH56RbfsyVbH6zir6zQBJUDGm19nc2XRKQ1cw4qJp7DNFRyzrNRRUQoPUrAiKBFHRp9esp6")

#### v1
- oracle box id: a29b8eb35befedfa364fc2fa5a15ce5271caaeaef1d2f676e48ef0c01cdb6ae7
    - ticket # 19 is the winner
    - lost the 10% chance to winner
- [winner selection initialization tx]("https://testnet.ergoplatform.com/en/transactions/225f968972cdcb3a122bf0c23ea0f31ceb1e41c91b773124e2c35af2525a7258")
- [loser raffle recreation tx]("https://testnet.ergoplatform.com/en/transactions/8a3ec0d7032313228f1df5d77063ede1e2cf7a25942dc57d3b7d4e36bcddf9a8")
#### v2
- oracle box id: b0bf6e27dfba27024fa60506d386f4ff3455959fde7d87d9a562a0f2340052cd
    - ticket # 1 is the winner
    - got the 10 % odds to winner
- [winner selection initialization tx]("https://testnet.ergoplatform.com/en/transactions/47618dbd10ffd127a1d117b68590ddd18c3788bbee137c5f2788dd7769a55f0a")
- [winner funds distribution tx]("https://testnet.ergoplatform.com/en/transactions/6353e77f8fe999b40b7bec150f8e42ecf65df8d5f6622d7b814aad737997f8f8")
